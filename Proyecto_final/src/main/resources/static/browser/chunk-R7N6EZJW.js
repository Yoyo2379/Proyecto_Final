import{f as h}from"./chunk-QXNWF3HH.js";import{k as g,l as I}from"./chunk-OLD2AYRY.js";import{T as l,Y as m,j as n}from"./chunk-YGIBANMM.js";import{a as c}from"./chunk-7CGTOI24.js";var r=[{id:1,title:"Dise\xF1ar base de datos",description:"Crear el modelo de datos",status:"completed",priority:"high",projectId:1,assigneeId:1,createdAt:new Date("2024-01-16")},{id:2,title:"Implementar API REST",description:"Desarrollar endpoints del backend",status:"in_progress",priority:"high",projectId:1,assigneeId:2,createdAt:new Date("2024-01-17")},{id:3,title:"Crear interfaz de usuario",description:"Dise\xF1ar y desarrollar el frontend",status:"in_progress",priority:"medium",projectId:1,assigneeId:1,createdAt:new Date("2024-01-18")},{id:4,title:"Configurar servidor",description:"Preparar ambiente de producci\xF3n",status:"todo",priority:"medium",projectId:1,assigneeId:3,createdAt:new Date("2024-01-19")},{id:5,title:"Pruebas de integraci\xF3n",description:"Realizar pruebas completas del sistema",status:"todo",priority:"high",projectId:1,createdAt:new Date("2024-01-20")},{id:6,title:"Dise\xF1o de mockups",description:"Crear dise\xF1os de la app m\xF3vil",status:"completed",priority:"medium",projectId:2,assigneeId:2,createdAt:new Date("2024-02-02")},{id:7,title:"Desarrollo iOS",description:"Implementar app para iOS",status:"in_progress",priority:"high",projectId:2,assigneeId:1,createdAt:new Date("2024-02-05")},{id:8,title:"Desarrollo Android",description:"Implementar app para Android",status:"todo",priority:"high",projectId:2,assigneeId:2,createdAt:new Date("2024-02-06")},{id:9,title:"Documentaci\xF3n t\xE9cnica",description:"Escribir documentaci\xF3n del proyecto",status:"todo",priority:"low",projectId:3,createdAt:new Date("2024-01-21")},{id:10,title:"Optimizar rendimiento",description:"Mejorar velocidad de carga",status:"in_progress",priority:"medium",projectId:3,assigneeId:3,createdAt:new Date("2024-01-22")}],b=class p{http=m(I);apiUrl=`${h.apiUrl}/tasks`;useMockData=!0;getAll(e=0,t=10,s="createdAt,desc",i){if(this.useMockData){let a=[...r];i&&(i.status&&(a=a.filter(d=>d.status===i.status)),i.priority&&(a=a.filter(d=>d.priority===i.priority)),i.projectId&&(a=a.filter(d=>d.projectId===i.projectId)),i.assigneeId&&(a=a.filter(d=>d.assigneeId===i.assigneeId)));let u=e*t,y=u+t,k=a.slice(u,y);return n({content:k,totalElements:a.length,totalPages:Math.ceil(a.length/t),size:t,number:e})}let o=new g().set("page",e.toString()).set("size",t.toString()).set("sort",s);return i&&(i.status&&(o=o.set("status",i.status)),i.priority&&(o=o.set("priority",i.priority)),i.projectId&&(o=o.set("projectId",i.projectId.toString())),i.assigneeId&&(o=o.set("assigneeId",i.assigneeId.toString()))),this.http.get(this.apiUrl,{params:o})}getById(e){if(this.useMockData){let t=r.find(s=>s.id===e);return n(t||r[0])}return this.http.get(`${this.apiUrl}/${e}`)}create(e){if(this.useMockData){let t={id:Math.max(...r.map(s=>s.id))+1,title:e.title||"",description:e.description||"",status:e.status||"todo",priority:e.priority||"medium",projectId:e.projectId||1,assigneeId:e.assigneeId,createdAt:new Date};return r.push(t),n(t)}return this.http.post(this.apiUrl,e)}update(e,t){if(this.useMockData){let s=r.findIndex(i=>i.id===e);return s!==-1?(r[s]=c(c({},r[s]),t),n(r[s])):n(r[0])}return this.http.put(`${this.apiUrl}/${e}`,t)}delete(e){if(this.useMockData){let t=r.findIndex(s=>s.id===e);return t!==-1&&r.splice(t,1),n(void 0)}return this.http.delete(`${this.apiUrl}/${e}`)}getTasksByStatus(){if(this.useMockData){let e={todo:r.filter(t=>t.status==="todo").length,in_progress:r.filter(t=>t.status==="in_progress").length,completed:r.filter(t=>t.status==="completed").length};return n(e)}return this.http.get(`${this.apiUrl}/stats/by-status`)}static \u0275fac=function(t){return new(t||p)};static \u0275prov=l({token:p,factory:p.\u0275fac,providedIn:"root"})};export{b as a};
